!function(n){n.fn.conveyor=function(){if(0==this.length)return this;if(this.length>1)return this.each(function(){n(this).conveyor()}),this;var t=this,i=t.parent(),e=0,r=i.innerWidth(),f=t.children().eq(0).outerWidth(!0),h=t.children().length,c=Math.round(r/f),o=h-c,u=function(n){if(n>o&&(n=o),!(0>n||e==n)){e=n;var r=t.children().eq(n).find("img"),f=parseInt(r.css("paddingLeft")),h=r.offset().left-t.offset().left-f;i.animate({scrollLeft:h},1e3)}};return t.children().find("img").click(function(){u(n(this).parent().index())}),t.scrollTo=function(n){return u(n),t},t.index=function(){return e},t.length=function(){return h},this}}(jQuery);